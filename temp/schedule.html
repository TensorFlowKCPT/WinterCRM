<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        {% for emp in data %}
        <button>{{ emp }}</button>
        {% endfor %}
    </div>
    <div class="schedule aleksandr">
        <h1>Александр</h1>
        <h2>Ноябрь</h2>
        <table id="november">
            <tr>
                <td class="cell">1</td>
                <td class="cell">2</td>
                <td class="cell">3</td>
                <td class="cell">4</td>
                <td class="cell">5</td>
                <td class="cell">6</td>
                <td class="cell">7</td>
            </tr>
            <tr>
                <td class="cell">8</td>
                <td class="cell">9</td>
                <td class="cell">10</td>
                <td class="cell">11</td>
                <td class="cell">12</td>
                <td class="cell">13</td>
                <td class="cell">14</td>
            </tr>
            <tr>
                <td class="cell">15</td>
                <td class="cell">16</td>
                <td class="cell">17</td>
                <td class="cell">18</td>
                <td class="cell">19</td>
                <td class="cell">20</td>
                <td class="cell">21</td>
            </tr>
            <tr>
                <td class="cell">22</td>
                <td class="cell">23</td>
                <td class="cell">24</td>
                <td class="cell">25</td>
                <td class="cell">26</td>
                <td class="cell">27</td>
                <td class="cell">28</td>
            </tr>
            <tr>
                <td class="cell">29</td>
                <td class="cell">30</td>
            </tr>
        </table>
        <h2>Декабрь</h2>
        <table id="december">
            <tr>
                <td class="cell">1</td>
                <td class="cell">2</td>
                <td class="cell">3</td>
                <td class="cell">4</td>
                <td class="cell">5</td>
                <td class="cell">6</td>
                <td class="cell">7</td>
            </tr>
            <tr>
                <td class="cell">8</td>
                <td class="cell">9</td>
                <td class="cell">10</td>
                <td class="cell">11</td>
                <td class="cell">12</td>
                <td class="cell">13</td>
                <td class="cell">14</td>
            </tr>
            <tr>
                <td class="cell">15</td>
                <td class="cell">16</td>
                <td class="cell">17</td>
                <td class="cell">18</td>
                <td class="cell">19</td>
                <td class="cell">20</td>
                <td class="cell">21</td>
            </tr>
            <tr>
                <td class="cell">22</td>
                <td class="cell">23</td>
                <td class="cell">24</td>
                <td class="cell">25</td>
                <td class="cell">26</td>
                <td class="cell">27</td>
                <td class="cell">28</td>
            </tr>
            <tr>
                <td class="cell">29</td>
                <td class="cell">30</td>
            </tr>
        </table>
    </div>
    


    <input type="radio" id="option1" name="radioGroup" value="option1">
    <label style="background-color: blue;" for="option1">Работает</label>
    
    <input type="radio" id="option2" name="radioGroup" value="option2">
    <label style="background-color: red;" for="option2">Болеет</label>
    
    <input type="radio" id="option3" name="radioGroup" value="option3">
    <label style="background-color: green;" for="option3">Отпуск</label>

    <div>
        <button id="saveButton">Сохранить</button>
        <button>Изменить</button>
    </div>

    <form method="POST" action="/schedule">
        <label for="password">Пароль:</label>
        <input type="password" id="password" name="password" required>
        <br>
        <input type="submit" value="Отправить">
    </form>
<script>
// Получаем ссылки на радиокнопки и ячейки таблицы
var radioButtons = document.querySelectorAll('input[type="radio"]');
var tableCells = document.querySelectorAll('.cell');

// Назначаем обработчик события для каждой радиокнопки
radioButtons.forEach(function(radioButton, index) {
    radioButton.addEventListener('change', function() {
        // Если радиокнопка выбрана, сохраняем ее цвет
        if (radioButton.checked) {
            var selectedColor = radioButton.nextElementSibling.style.backgroundColor;

            // Назначаем обработчик события для каждой ячейки таблицы
            tableCells.forEach(function(cell) {
                cell.addEventListener('click', function() {
                    // Закрашиваем ячейку выбранным цветом
                    cell.style.backgroundColor = selectedColor;
                });
            });
        }
    });
})
// Назначаем обработчик события для кнопки "Сохранить"
var saveButton = document.getElementById('saveButton');
saveButton.addEventListener('click', function () {
    var tableHTML = document.querySelector('.schedule').outerHTML
    // Отправляем данные на сервер
    fetch('/save', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: 'table=' + encodeURIComponent(tableHTML),
    })
        .then(function (response) {
            if (response.status === 200) {
                alert('Таблица сохранена на сервере.');
            }
        })
        .catch(function (error) {
            console.error('Ошибка при отправке данных: ', error);
        });
});

var scheduleDiv = document.querySelector('.schedule');
console.log(scheduleDiv)
function schedtojson(dv){
    var json = {"name":None, 'month':None} 
    
}
</script>
</body>
</html>